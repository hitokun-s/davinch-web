<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="ranking,popular,news,ranker">
    <meta name="description" content="popular news ranking all over the world">
    <meta name="author" content="Hitoshi Wada">
    <meta property="og:title" content="<%= title %>"/>
    <meta property="og:image" content=""/>
    <meta property="og:description" content="popular news ranking all over the world"/>

    <title><%= title %></title>
    <% include js.ejs %>
    <script src="https://cdn.socket.io/socket.io-1.3.7.js"></script>
    <script type="text/javascript" src="lib/jquery-tmpl/jquery.tmpl.min.js"></script>
    <script type="text/javascript" src="lib/jquery-dateFormat/dist/jquery-dateFormat.min.js"></script>
    <script type="text/javascript" src="lib/underscore/underscore-min.js"></script>
    <link href="lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/arrow_box.css" rel="stylesheet">
    <style>
        body {
            padding-top: 100px;
        }

        #answer {
            height: 100px;
            width: 400px;
            background-color: #c2e1f5;;
            border: none;
        }

        #answer-wrapper {
            display: inline-block;
            margin-top: 100px;
            padding: 10px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
<% include module/header.ejs %>

<template id="template">
    <tr id="${_id}" class="article">
        <td>${order}</td>
        <td class="score text-right">${score}</td>
        <td class="content">
            <div class="info"><span>${date}</span></div>
            <a href="${link}" class="title" target="_blank">${title}</a><span class="badge media">${media}</span>
        </td>
        <td>
            <button class="btn-graph">Graph</button>
        </td>
    </tr>
</template>

<div class="container">
    <div class="row">
        <div class="form-group">
            <div class="col-lg-10">
                <input id="question" class="form-control" type="text"
                       placeholder="ex. What is capital of Italy?"/>
            </div>
            <div class="col-lg-2">
                <button class="btn btn-primary" id="btn-query">Query</button>
            </div>
        </div>
    </div>
    <div class="row text-center">
        <div id="answer-wrapper" class="arrow_box">
            <textarea id="answer">Answer</textarea>
        </div>

    </div>

</div>

<% include module/footer.ejs %>
<script>
    $(function () {
        $("#btn-query").click(function () {
            $.get("http://54.238.51.103:8080/" + $("#question").val(), {}).done(function (data) {
                console.log(data);
                $("#answer").val(data);
            });
        });
    });
</script>
</body>
</html>